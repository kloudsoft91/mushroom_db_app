<template>
    <footer class="flex justify-center w-full desktop:hidden fixed bottom-0 left-0 right-0 bg-emerald text-center border-2">
        <div class="w-11/12 left-0 right-0">
            <div class="flex justify-between w-full left-0 right-0 mx-auto py-4">
                <div class="quick-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
                    </svg>
                    <p>Home</p>
                </div>
                
                <div @click="open()" class="quick-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                    </svg>
                    <p>Discover</p>
                    <client-only>
                        <vue-bottom-sheet ref="myBottomSheet" :can-swipe="false" overlay-color="#00000000" :max-width="9999999999999">
                            <div class=" border-solid border-2">
                                <FilterBar @selectedCapShape="emitCapShape"/>    
                            </div>
                        </vue-bottom-sheet>
                    </client-only>
                </div>
                
                <div class="quick-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" class="w-6 h-6 ">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" />
                    </svg>
                    <p>About</p>
                </div>

                <div class="quick-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M12 7.5h1.5m-1.5 3h1.5m-7.5 3h7.5m-7.5 3h7.5m3-9h3.375c.621 0 1.125.504 1.125 1.125V18a2.25 2.25 0 01-2.25 2.25M16.5 7.5V18a2.25 2.25 0 002.25 2.25M16.5 7.5V4.875c0-.621-.504-1.125-1.125-1.125H4.125C3.504 3.75 3 4.254 3 4.875V18a2.25 2.25 0 002.25 2.25h13.5M6 7.5h3v3H6v-3z" />
                    </svg>
                    <p>News</p>
                </div>

                <div class="quick-link">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z" />
                    </svg>
                    <p>Contact</p>
                </div>
                
        </div>
        </div>
    </footer>
</template>

<script>
    import VueBottomSheet from "@webzlodimir/vue-bottom-sheet";
    import  "@webzlodimir/vue-bottom-sheet/dist/style.css";
    import { ref, onBeforeUpdate } from "vue";
 
    export default {
   setup() {
     const myBottomSheet = ref(null);
 
     onBeforeUpdate(() => {
       myBottomSheet.value.initHeight();
     });
 
     const open = () => {
       myBottomSheet.value.open();
     };
 
     const close = () => {
       myBottomSheet.value.close();
     };
 
     return {
       myBottomSheet,
       open,
       close,
     };
   },
   methods: {
     emitCapShape(capShape) {
       this.selectedCapShape = capShape;
       console.log("Event emitted from BottomFrame: ", capShape);
       //emit event to parent component (Index.vue)
       this.$emit('selectedCapShape', capShape);
     },
   },
   components: {
    VueBottomSheet,
   },
 };
</script>